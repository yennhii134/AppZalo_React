{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { useEffect, useState, useMemo } from 'react';\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { calculateDropdownHeight } from \"../helpers/calculateDropdownHeight\";\nimport { useKeyboardRemainingScreenHeight } from \"./useKeyboardRemainingScreenHeight\";\nvar _Dimensions$get = Dimensions.get('window'),\n  height = _Dimensions$get.height;\nexport var useLayoutDropdown = function useLayoutDropdown(data, dropdownStyle, rowStyle, search) {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isVisible = _useState2[0],\n    setIsVisible = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    buttonLayout = _useState4[0],\n    setButtonLayout = _useState4[1];\n  var _useState5 = useState(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    dropdownPX = _useState6[0],\n    setDropdownPX = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    dropdownPY = _useState8[0],\n    setDropdownPY = _useState8[1];\n  var _useState9 = useState(function () {\n      return calculateDropdownHeight(dropdownStyle, rowStyle, (data == null ? void 0 : data.length) || 0, search);\n    }),\n    _useState10 = _slicedToArray(_useState9, 2),\n    dropdownHEIGHT = _useState10[0],\n    setDropdownHEIGHT = _useState10[1];\n  var _useState11 = useState(0),\n    _useState12 = _slicedToArray(_useState11, 2),\n    dropdownWIDTH = _useState12[0],\n    setDropdownWIDTH = _useState12[1];\n  var remainigHeightAvoidKeyboard = useKeyboardRemainingScreenHeight();\n  var safeDropdownViewUnderKeyboard = rowStyle && rowStyle.height ? rowStyle.height * 3 : 50 * 3;\n  useEffect(function () {\n    setDropdownHEIGHT(calculateDropdownHeight(dropdownStyle, rowStyle, (data == null ? void 0 : data.length) || 0, search));\n  }, [dropdownStyle, rowStyle, data]);\n  var onDropdownButtonLayout = function onDropdownButtonLayout(w, h, px, py) {\n    setButtonLayout({\n      w: w,\n      h: h,\n      px: px,\n      py: py\n    });\n    if (height - 18 < py + h + dropdownHEIGHT) {\n      setDropdownPX(px);\n      setDropdownPY(py - 2 - dropdownHEIGHT);\n    } else {\n      setDropdownPX(px);\n      setDropdownPY(py + h + 2);\n    }\n    setDropdownWIDTH((dropdownStyle == null ? void 0 : dropdownStyle.width) || w);\n  };\n  var getItemLayout = function getItemLayout(flatlistData, index) {\n    return {\n      index: index,\n      length: (flatlistData == null ? void 0 : flatlistData.length) || 0,\n      offset: rowStyle && rowStyle.height ? rowStyle.height * index : 50 * index\n    };\n  };\n  var dropdownWindowStyle = useMemo(function () {\n    var top = remainigHeightAvoidKeyboard < dropdownPY + safeDropdownViewUnderKeyboard ? remainigHeightAvoidKeyboard - safeDropdownViewUnderKeyboard : dropdownPY;\n    return _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, {\n      borderTopWidth: 0,\n      overflow: 'hidden'\n    }), dropdownStyle), {\n      position: 'absolute',\n      top: top,\n      height: dropdownHEIGHT,\n      width: dropdownWIDTH\n    }), I18nManager.isRTL ? {\n      right: (dropdownStyle == null ? void 0 : dropdownStyle.right) || dropdownPX\n    } : {\n      left: (dropdownStyle == null ? void 0 : dropdownStyle.left) || dropdownPX\n    });\n  }, [dropdownStyle, remainigHeightAvoidKeyboard, dropdownPX, dropdownPY, dropdownHEIGHT, dropdownWIDTH]);\n  var onRequestClose = function onRequestClose() {\n    setIsVisible(false);\n  };\n  return {\n    isVisible: isVisible,\n    setIsVisible: setIsVisible,\n    buttonLayout: buttonLayout,\n    onDropdownButtonLayout: onDropdownButtonLayout,\n    getItemLayout: getItemLayout,\n    dropdownWindowStyle: dropdownWindowStyle,\n    onRequestClose: onRequestClose\n  };\n};","map":{"version":3,"names":["useEffect","useState","useMemo","I18nManager","Dimensions","calculateDropdownHeight","useKeyboardRemainingScreenHeight","_Dimensions$get","get","height","useLayoutDropdown","data","dropdownStyle","rowStyle","search","_useState","_useState2","_slicedToArray","isVisible","setIsVisible","_useState3","_useState4","buttonLayout","setButtonLayout","_useState5","_useState6","dropdownPX","setDropdownPX","_useState7","_useState8","dropdownPY","setDropdownPY","_useState9","length","_useState10","dropdownHEIGHT","setDropdownHEIGHT","_useState11","_useState12","dropdownWIDTH","setDropdownWIDTH","remainigHeightAvoidKeyboard","safeDropdownViewUnderKeyboard","onDropdownButtonLayout","w","h","px","py","width","getItemLayout","flatlistData","index","offset","dropdownWindowStyle","top","_objectSpread","borderTopWidth","overflow","position","isRTL","right","left","onRequestClose"],"sources":["D:/NodeJS/ZaloFake/Frontend/Mobile/zalofake/node_modules/react-native-select-dropdown/src/hooks/useLayoutDropdown.js"],"sourcesContent":["import {useEffect, useState, useMemo} from 'react';\r\nimport {I18nManager, Dimensions} from 'react-native';\r\nimport {calculateDropdownHeight} from '../helpers/calculateDropdownHeight';\r\nimport {useKeyboardRemainingScreenHeight} from './useKeyboardRemainingScreenHeight';\r\nconst {height} = Dimensions.get('window');\r\n\r\nexport const useLayoutDropdown = (data, dropdownStyle, rowStyle, search) => {\r\n  const [isVisible, setIsVisible] = useState(false); // dropdown visible ?\r\n  const [buttonLayout, setButtonLayout] = useState(null);\r\n  const [dropdownPX, setDropdownPX] = useState(0); // position x\r\n  const [dropdownPY, setDropdownPY] = useState(0); // position y\r\n  const [dropdownHEIGHT, setDropdownHEIGHT] = useState(() => {\r\n    return calculateDropdownHeight(dropdownStyle, rowStyle, data?.length || 0, search);\r\n  }); // dropdown height\r\n  const [dropdownWIDTH, setDropdownWIDTH] = useState(0); // dropdown width\r\n  const remainigHeightAvoidKeyboard = useKeyboardRemainingScreenHeight();\r\n  const safeDropdownViewUnderKeyboard = rowStyle && rowStyle.height ? rowStyle.height * 3 : 50 * 3;\r\n\r\n  useEffect(() => {\r\n    setDropdownHEIGHT(calculateDropdownHeight(dropdownStyle, rowStyle, data?.length || 0, search));\r\n  }, [dropdownStyle, rowStyle, data]);\r\n\r\n  const onDropdownButtonLayout = (w, h, px, py) => {\r\n    setButtonLayout({w, h, px, py});\r\n    if (height - 18 < py + h + dropdownHEIGHT) {\r\n      setDropdownPX(px);\r\n      setDropdownPY(py - 2 - dropdownHEIGHT);\r\n    } else {\r\n      setDropdownPX(px);\r\n      setDropdownPY(py + h + 2);\r\n    }\r\n    setDropdownWIDTH(dropdownStyle?.width || w);\r\n  };\r\n\r\n  const getItemLayout = (flatlistData, index) => ({\r\n    index,\r\n    length: flatlistData?.length || 0,\r\n    offset: rowStyle && rowStyle.height ? rowStyle.height * index : 50 * index,\r\n  });\r\n\r\n  const dropdownWindowStyle = useMemo(() => {\r\n    const top =\r\n      remainigHeightAvoidKeyboard < dropdownPY + safeDropdownViewUnderKeyboard\r\n        ? remainigHeightAvoidKeyboard - safeDropdownViewUnderKeyboard\r\n        : dropdownPY;\r\n    return {\r\n      ...{\r\n        borderTopWidth: 0,\r\n        overflow: 'hidden',\r\n      },\r\n      ...dropdownStyle,\r\n      ...{\r\n        position: 'absolute',\r\n        top: top,\r\n        height: dropdownHEIGHT,\r\n        width: dropdownWIDTH,\r\n      },\r\n      ...(I18nManager.isRTL ? {right: dropdownStyle?.right || dropdownPX} : {left: dropdownStyle?.left || dropdownPX}),\r\n    };\r\n  }, [dropdownStyle, remainigHeightAvoidKeyboard, dropdownPX, dropdownPY, dropdownHEIGHT, dropdownWIDTH]);\r\n\r\n  const onRequestClose = () => {\r\n    setIsVisible(false);\r\n  };\r\n\r\n  return {\r\n    isVisible,\r\n    setIsVisible,\r\n    buttonLayout,\r\n    onDropdownButtonLayout,\r\n    getItemLayout,\r\n    dropdownWindowStyle,\r\n    onRequestClose,\r\n  };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}