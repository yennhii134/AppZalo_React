{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { useEffect, useState, useMemo } from 'react';\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { calculateDropdownHeight } from '../helpers/calculateDropdownHeight';\nimport { useKeyboardRemainingScreenHeight } from './useKeyboardRemainingScreenHeight';\nconst {\n  height\n} = Dimensions.get('window');\nexport const useLayoutDropdown = (data, dropdownStyle, rowStyle, search) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const [buttonLayout, setButtonLayout] = useState(null);\n  const [dropdownPX, setDropdownPX] = useState(0);\n  const [dropdownPY, setDropdownPY] = useState(0);\n  const [dropdownHEIGHT, setDropdownHEIGHT] = useState(() => {\n    return calculateDropdownHeight(dropdownStyle, rowStyle, data?.length || 0, search);\n  });\n  const [dropdownWIDTH, setDropdownWIDTH] = useState(0);\n  const remainigHeightAvoidKeyboard = useKeyboardRemainingScreenHeight();\n  const safeDropdownViewUnderKeyboard = rowStyle && rowStyle.height ? rowStyle.height * 3 : 50 * 3;\n  useEffect(() => {\n    setDropdownHEIGHT(calculateDropdownHeight(dropdownStyle, rowStyle, data?.length || 0, search));\n  }, [dropdownStyle, rowStyle, data]);\n  const onDropdownButtonLayout = (w, h, px, py) => {\n    setButtonLayout({\n      w,\n      h,\n      px,\n      py\n    });\n    if (height - 18 < py + h + dropdownHEIGHT) {\n      setDropdownPX(px);\n      setDropdownPY(py - 2 - dropdownHEIGHT);\n    } else {\n      setDropdownPX(px);\n      setDropdownPY(py + h + 2);\n    }\n    setDropdownWIDTH(dropdownStyle?.width || w);\n  };\n  const getItemLayout = (flatlistData, index) => ({\n    index,\n    length: flatlistData?.length || 0,\n    offset: rowStyle && rowStyle.height ? rowStyle.height * index : 50 * index\n  });\n  const dropdownWindowStyle = useMemo(() => {\n    const top = remainigHeightAvoidKeyboard < dropdownPY + safeDropdownViewUnderKeyboard ? remainigHeightAvoidKeyboard - safeDropdownViewUnderKeyboard : dropdownPY;\n    return _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, {\n      borderTopWidth: 0,\n      overflow: 'hidden'\n    }), dropdownStyle), {\n      position: 'absolute',\n      top: top,\n      height: dropdownHEIGHT,\n      width: dropdownWIDTH\n    }), I18nManager.isRTL ? {\n      right: dropdownStyle?.right || dropdownPX\n    } : {\n      left: dropdownStyle?.left || dropdownPX\n    });\n  }, [dropdownStyle, remainigHeightAvoidKeyboard, dropdownPX, dropdownPY, dropdownHEIGHT, dropdownWIDTH]);\n  const onRequestClose = () => {\n    setIsVisible(false);\n  };\n  return {\n    isVisible,\n    setIsVisible,\n    buttonLayout,\n    onDropdownButtonLayout,\n    getItemLayout,\n    dropdownWindowStyle,\n    onRequestClose\n  };\n};","map":{"version":3,"names":["useEffect","useState","useMemo","I18nManager","Dimensions","calculateDropdownHeight","useKeyboardRemainingScreenHeight","height","get","useLayoutDropdown","data","dropdownStyle","rowStyle","search","isVisible","setIsVisible","buttonLayout","setButtonLayout","dropdownPX","setDropdownPX","dropdownPY","setDropdownPY","dropdownHEIGHT","setDropdownHEIGHT","length","dropdownWIDTH","setDropdownWIDTH","remainigHeightAvoidKeyboard","safeDropdownViewUnderKeyboard","onDropdownButtonLayout","w","h","px","py","width","getItemLayout","flatlistData","index","offset","dropdownWindowStyle","top","_objectSpread","borderTopWidth","overflow","position","isRTL","right","left","onRequestClose"],"sources":["D:/HK2_Nam4/CNM/BTL/New_3/AppZalo_CNM/Frontend/Mobile/zalofake/node_modules/react-native-select-dropdown/src/hooks/useLayoutDropdown.js"],"sourcesContent":["import {useEffect, useState, useMemo} from 'react';\nimport {I18nManager, Dimensions} from 'react-native';\nimport {calculateDropdownHeight} from '../helpers/calculateDropdownHeight';\nimport {useKeyboardRemainingScreenHeight} from './useKeyboardRemainingScreenHeight';\nconst {height} = Dimensions.get('window');\n\nexport const useLayoutDropdown = (data, dropdownStyle, rowStyle, search) => {\n  const [isVisible, setIsVisible] = useState(false); // dropdown visible ?\n  const [buttonLayout, setButtonLayout] = useState(null);\n  const [dropdownPX, setDropdownPX] = useState(0); // position x\n  const [dropdownPY, setDropdownPY] = useState(0); // position y\n  const [dropdownHEIGHT, setDropdownHEIGHT] = useState(() => {\n    return calculateDropdownHeight(dropdownStyle, rowStyle, data?.length || 0, search);\n  }); // dropdown height\n  const [dropdownWIDTH, setDropdownWIDTH] = useState(0); // dropdown width\n  const remainigHeightAvoidKeyboard = useKeyboardRemainingScreenHeight();\n  const safeDropdownViewUnderKeyboard = rowStyle && rowStyle.height ? rowStyle.height * 3 : 50 * 3;\n\n  useEffect(() => {\n    setDropdownHEIGHT(calculateDropdownHeight(dropdownStyle, rowStyle, data?.length || 0, search));\n  }, [dropdownStyle, rowStyle, data]);\n\n  const onDropdownButtonLayout = (w, h, px, py) => {\n    setButtonLayout({w, h, px, py});\n    if (height - 18 < py + h + dropdownHEIGHT) {\n      setDropdownPX(px);\n      setDropdownPY(py - 2 - dropdownHEIGHT);\n    } else {\n      setDropdownPX(px);\n      setDropdownPY(py + h + 2);\n    }\n    setDropdownWIDTH(dropdownStyle?.width || w);\n  };\n\n  const getItemLayout = (flatlistData, index) => ({\n    index,\n    length: flatlistData?.length || 0,\n    offset: rowStyle && rowStyle.height ? rowStyle.height * index : 50 * index,\n  });\n\n  const dropdownWindowStyle = useMemo(() => {\n    const top =\n      remainigHeightAvoidKeyboard < dropdownPY + safeDropdownViewUnderKeyboard\n        ? remainigHeightAvoidKeyboard - safeDropdownViewUnderKeyboard\n        : dropdownPY;\n    return {\n      ...{\n        borderTopWidth: 0,\n        overflow: 'hidden',\n      },\n      ...dropdownStyle,\n      ...{\n        position: 'absolute',\n        top: top,\n        height: dropdownHEIGHT,\n        width: dropdownWIDTH,\n      },\n      ...(I18nManager.isRTL ? {right: dropdownStyle?.right || dropdownPX} : {left: dropdownStyle?.left || dropdownPX}),\n    };\n  }, [dropdownStyle, remainigHeightAvoidKeyboard, dropdownPX, dropdownPY, dropdownHEIGHT, dropdownWIDTH]);\n\n  const onRequestClose = () => {\n    setIsVisible(false);\n  };\n\n  return {\n    isVisible,\n    setIsVisible,\n    buttonLayout,\n    onDropdownButtonLayout,\n    getItemLayout,\n    dropdownWindowStyle,\n    onRequestClose,\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}