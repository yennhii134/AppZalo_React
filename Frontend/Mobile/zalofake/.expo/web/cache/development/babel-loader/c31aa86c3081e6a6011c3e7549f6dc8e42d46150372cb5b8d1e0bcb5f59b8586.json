{"ast":null,"code":"import { useState, useEffect, useMemo } from 'react';\nimport { deepSearchInArr } from '../helpers/deepSearchInArr';\nimport { findIndexInArr } from '../helpers/findIndexInArr';\nimport { isExist } from '../helpers/isExist';\nexport const useSelectDropdown = (data, defaultValueByIndex, defaultValue, disabledInternalSearch) => {\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [selectedIndex, setSelectedIndex] = useState(-1);\n  const [searchTxt, setSearchTxt] = useState('');\n  useEffect(() => {\n    if (!data || data.length == 0) {\n      reset();\n    }\n  }, [JSON.stringify(data)]);\n  useEffect(() => {\n    if (isExist(defaultValueByIndex)) {\n      if (data && isExist(data[defaultValueByIndex])) {\n        selectItem(defaultValueByIndex);\n      }\n    }\n  }, [JSON.stringify(defaultValueByIndex)]);\n  useEffect(() => {\n    if (isExist(defaultValue)) {\n      if (data && findIndexInArr(defaultValue, data) >= 0) {\n        selectItem(findIndexInArr(defaultValue, data));\n      }\n    }\n  }, [JSON.stringify(defaultValue)]);\n  const dataArr = useMemo(() => {\n    if (disabledInternalSearch) {\n      return data;\n    }\n    return searchTxt ? deepSearchInArr(searchTxt, data) : data;\n  }, [JSON.stringify(data), searchTxt]);\n  const selectItem = index => {\n    setSelectedItem(data[index]);\n    setSelectedIndex(index);\n  };\n  const reset = () => {\n    setSelectedItem(null);\n    setSelectedIndex(-1);\n  };\n  return {\n    dataArr,\n    selectedItem,\n    selectedIndex,\n    selectItem,\n    reset,\n    searchTxt,\n    setSearchTxt\n  };\n};","map":{"version":3,"names":["useState","useEffect","useMemo","deepSearchInArr","findIndexInArr","isExist","useSelectDropdown","data","defaultValueByIndex","defaultValue","disabledInternalSearch","selectedItem","setSelectedItem","selectedIndex","setSelectedIndex","searchTxt","setSearchTxt","length","reset","JSON","stringify","selectItem","dataArr","index"],"sources":["D:/HK2_Nam4/CNM/BTL/New_3/AppZalo_CNM/Frontend/Mobile/zalofake/node_modules/react-native-select-dropdown/src/hooks/useSelectDropdown.js"],"sourcesContent":["import {useState, useEffect, useMemo} from 'react';\nimport {deepSearchInArr} from '../helpers/deepSearchInArr';\nimport {findIndexInArr} from '../helpers/findIndexInArr';\nimport {isExist} from '../helpers/isExist';\n\nexport const useSelectDropdown = (data, defaultValueByIndex, defaultValue, disabledInternalSearch) => {\n  const [selectedItem, setSelectedItem] = useState(null); // selected item from dropdown\n  const [selectedIndex, setSelectedIndex] = useState(-1); // index of selected item from dropdown\n  const [searchTxt, setSearchTxt] = useState('');\n\n  // data array changes\n  useEffect(() => {\n    if (!data || data.length == 0) {\n      reset();\n    }\n  }, [JSON.stringify(data)]);\n\n  // default value by index added or changed\n  useEffect(() => {\n    // defaultValueByIndex may be equals zero\n    if (isExist(defaultValueByIndex)) {\n      if (data && isExist(data[defaultValueByIndex])) {\n        selectItem(defaultValueByIndex);\n      }\n    }\n  }, [JSON.stringify(defaultValueByIndex)]);\n  // default value added or changed\n  useEffect(() => {\n    // defaultValue may be equals zero\n    if (isExist(defaultValue)) {\n      if (data && findIndexInArr(defaultValue, data) >= 0) {\n        selectItem(findIndexInArr(defaultValue, data));\n      }\n    }\n  }, [JSON.stringify(defaultValue)]);\n\n  const dataArr = useMemo(() => {\n    if (disabledInternalSearch) {\n      return data;\n    }\n    return searchTxt ? deepSearchInArr(searchTxt, data) : data;\n  }, [JSON.stringify(data), searchTxt]);\n\n  const selectItem = index => {\n    setSelectedItem(data[index]);\n    setSelectedIndex(index);\n  };\n\n  const reset = () => {\n    setSelectedItem(null);\n    setSelectedIndex(-1);\n  };\n\n  return {\n    dataArr,\n    selectedItem,\n    selectedIndex,\n    selectItem,\n    reset,\n    searchTxt,\n    setSearchTxt,\n  };\n};\n"],"mappings":"AAAA,SAAQA,QAAQ,EAAEC,SAAS,EAAEC,OAAO,QAAO,OAAO;AAClD,SAAQC,eAAe,QAAO,4BAA4B;AAC1D,SAAQC,cAAc,QAAO,2BAA2B;AACxD,SAAQC,OAAO,QAAO,oBAAoB;AAE1C,OAAO,MAAMC,iBAAiB,GAAGA,CAACC,IAAI,EAAEC,mBAAmB,EAAEC,YAAY,EAAEC,sBAAsB,KAAK;EACpG,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACa,aAAa,EAAEC,gBAAgB,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtD,MAAM,CAACe,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAG9CC,SAAS,CAAC,MAAM;IACd,IAAI,CAACM,IAAI,IAAIA,IAAI,CAACU,MAAM,IAAI,CAAC,EAAE;MAC7BC,KAAK,CAAC,CAAC;IACT;EACF,CAAC,EAAE,CAACC,IAAI,CAACC,SAAS,CAACb,IAAI,CAAC,CAAC,CAAC;EAG1BN,SAAS,CAAC,MAAM;IAEd,IAAII,OAAO,CAACG,mBAAmB,CAAC,EAAE;MAChC,IAAID,IAAI,IAAIF,OAAO,CAACE,IAAI,CAACC,mBAAmB,CAAC,CAAC,EAAE;QAC9Ca,UAAU,CAACb,mBAAmB,CAAC;MACjC;IACF;EACF,CAAC,EAAE,CAACW,IAAI,CAACC,SAAS,CAACZ,mBAAmB,CAAC,CAAC,CAAC;EAEzCP,SAAS,CAAC,MAAM;IAEd,IAAII,OAAO,CAACI,YAAY,CAAC,EAAE;MACzB,IAAIF,IAAI,IAAIH,cAAc,CAACK,YAAY,EAAEF,IAAI,CAAC,IAAI,CAAC,EAAE;QACnDc,UAAU,CAACjB,cAAc,CAACK,YAAY,EAAEF,IAAI,CAAC,CAAC;MAChD;IACF;EACF,CAAC,EAAE,CAACY,IAAI,CAACC,SAAS,CAACX,YAAY,CAAC,CAAC,CAAC;EAElC,MAAMa,OAAO,GAAGpB,OAAO,CAAC,MAAM;IAC5B,IAAIQ,sBAAsB,EAAE;MAC1B,OAAOH,IAAI;IACb;IACA,OAAOQ,SAAS,GAAGZ,eAAe,CAACY,SAAS,EAAER,IAAI,CAAC,GAAGA,IAAI;EAC5D,CAAC,EAAE,CAACY,IAAI,CAACC,SAAS,CAACb,IAAI,CAAC,EAAEQ,SAAS,CAAC,CAAC;EAErC,MAAMM,UAAU,GAAGE,KAAK,IAAI;IAC1BX,eAAe,CAACL,IAAI,CAACgB,KAAK,CAAC,CAAC;IAC5BT,gBAAgB,CAACS,KAAK,CAAC;EACzB,CAAC;EAED,MAAML,KAAK,GAAGA,CAAA,KAAM;IAClBN,eAAe,CAAC,IAAI,CAAC;IACrBE,gBAAgB,CAAC,CAAC,CAAC,CAAC;EACtB,CAAC;EAED,OAAO;IACLQ,OAAO;IACPX,YAAY;IACZE,aAAa;IACbQ,UAAU;IACVH,KAAK;IACLH,SAAS;IACTC;EACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}