{"ast":null,"code":"import { useState } from \"react\";\nimport Toast from \"react-native-toast-message\";\nimport axiosInstance from \"../api/axiosInstance\";\nconst useChangePw = () => {\n  const showToastSuccess = notice => {\n    Toast.show({\n      text1: notice,\n      type: \"success\",\n      topOffset: 0,\n      position: \"top\"\n    });\n  };\n  const showToastError = notice => {\n    Toast.show({\n      text1: notice,\n      type: \"error\",\n      topOffset: 0,\n      position: \"top\"\n    });\n  };\n  const changePassword = async (oldPassword, newPassword) => {\n    try {\n      console.log(oldPassword, newPassword);\n      const response = await axiosInstance.post(\"/auth/change-password\", {\n        oldPassword,\n        newPassword\n      });\n      if (response.status === 403) {\n        return false;\n      } else if (response.status === 400) {\n        return false;\n      } else if (response.status === 200) {\n        return true;\n      } else {\n        showToastError(\"Failed to change password\");\n        return false;\n      }\n    } catch (error) {\n      console.log(error);\n      showToastError(error.response.data.message);\n      return false;\n    }\n  };\n  return {\n    showToastSuccess,\n    showToastError,\n    changePassword\n  };\n};\nexport default useChangePw;","map":{"version":3,"names":["useState","Toast","axiosInstance","useChangePw","showToastSuccess","notice","show","text1","type","topOffset","position","showToastError","changePassword","oldPassword","newPassword","console","log","response","post","status","error","data","message"],"sources":["D:/HK2_Nam4/CNM/BTL/New_3/AppZalo_CNM/Frontend/Mobile/zalofake/src/hooks/useChangePw.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport Toast from \"react-native-toast-message\";\r\nimport axiosInstance from \"../api/axiosInstance\";\r\n\r\nconst useChangePw = () => {\r\n\r\n    const showToastSuccess = (notice) => {\r\n        Toast.show({\r\n            text1: notice,\r\n            type: \"success\",\r\n            topOffset: 0,\r\n            position: \"top\",\r\n        });\r\n    };\r\n    const showToastError = (notice) => {\r\n        Toast.show({\r\n            text1: notice,\r\n            type: \"error\",\r\n            topOffset: 0,\r\n            position: \"top\",\r\n        });\r\n    }\r\n    \r\n    const changePassword = async (oldPassword, newPassword) => {\r\n        try {\r\n            console.log(oldPassword, newPassword)\r\n            const response = await axiosInstance.post(\"/auth/change-password\", {\r\n                oldPassword, newPassword,\r\n            });\r\n            if (response.status === 403) {\r\n                return false;\r\n            }\r\n            else if(response.status === 400){\r\n                return false;\r\n            }\r\n            else if (response.status === 200) {\r\n                return true;\r\n            } else {\r\n                showToastError(\"Failed to change password\")\r\n                return false;\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            showToastError(error.response.data.message);\r\n            return false;\r\n        }\r\n\r\n    };\r\n\r\n    return { showToastSuccess, showToastError, changePassword }\r\n}\r\n\r\nexport default useChangePw;"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,4BAA4B;AAC9C,OAAOC,aAAa,MAAM,sBAAsB;AAEhD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAEtB,MAAMC,gBAAgB,GAAIC,MAAM,IAAK;IACjCJ,KAAK,CAACK,IAAI,CAAC;MACPC,KAAK,EAAEF,MAAM;MACbG,IAAI,EAAE,SAAS;MACfC,SAAS,EAAE,CAAC;MACZC,QAAQ,EAAE;IACd,CAAC,CAAC;EACN,CAAC;EACD,MAAMC,cAAc,GAAIN,MAAM,IAAK;IAC/BJ,KAAK,CAACK,IAAI,CAAC;MACPC,KAAK,EAAEF,MAAM;MACbG,IAAI,EAAE,OAAO;MACbC,SAAS,EAAE,CAAC;MACZC,QAAQ,EAAE;IACd,CAAC,CAAC;EACN,CAAC;EAED,MAAME,cAAc,GAAG,MAAAA,CAAOC,WAAW,EAAEC,WAAW,KAAK;IACvD,IAAI;MACAC,OAAO,CAACC,GAAG,CAACH,WAAW,EAAEC,WAAW,CAAC;MACrC,MAAMG,QAAQ,GAAG,MAAMf,aAAa,CAACgB,IAAI,CAAC,uBAAuB,EAAE;QAC/DL,WAAW;QAAEC;MACjB,CAAC,CAAC;MACF,IAAIG,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;QACzB,OAAO,KAAK;MAChB,CAAC,MACI,IAAGF,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAC;QAC5B,OAAO,KAAK;MAChB,CAAC,MACI,IAAIF,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;QAC9B,OAAO,IAAI;MACf,CAAC,MAAM;QACHR,cAAc,CAAC,2BAA2B,CAAC;QAC3C,OAAO,KAAK;MAChB;IAEJ,CAAC,CAAC,OAAOS,KAAK,EAAE;MACZL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;MAClBT,cAAc,CAACS,KAAK,CAACH,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC;MAC3C,OAAO,KAAK;IAChB;EAEJ,CAAC;EAED,OAAO;IAAElB,gBAAgB;IAAEO,cAAc;IAAEC;EAAe,CAAC;AAC/D,CAAC;AAED,eAAeT,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}